### 硬件电路
- 所有I2C设备的SCL连在一起,SDA连在一起
- 设备的SCL和SDA均要配置成开漏输出模式
- SCL和SDA各添加一个上拉电阻,阻值一般为4,7千欧左右
##### 开漏输出模式
GND设备引脚直接接地,形成强下拉;不接正极,形成浮空模式
整个设备引脚只有强下拉和浮空输入两种状态
### 应答(发送数据)
1. 主机发送一个字节的地址,选择要操作的从机
   1. 从机下拉SDA表示应答
   2. 最低位表示读写位
      1. 0表示,之后的操作,主机要进行写入操作
      2. 1表示,之后的时序,主机要进行读出操作
2. 主机发送一个字节的地址,选择从机中的发送数据的位置
3. 主机发送一个字节,表示要在指定从机的指定地址发送的数据
### 接收(接收数据)
1. 主机发送一个字节的地址,最低位为1,选择指定从机
   1. 接收从机应答位
2. 马上转换为主机接收数据,从机发送数据
   1. 没有指定寄存器,使用的是指针变量指向的寄存器读取数据
      1. 指针变量每次读取数据后,向后移动一位,指向下一个寄存器
### 接收(指定地址读)
因为接收只能是在当前地址读,不能指定地址,所以出现了能够指定地址读的操作\
该操作是前半段发送数据,后半段当前地址读的复合操作
1. 起始条件
2. 指定设备地址并且最低位是0
3. 指定设备中寄存器的地址
4. 重复起始条件
5. 指定设备地址并且最低位为1
6. 读取数据
7. 结束

如果只想读取一个数据接停止,需要给1(非应答)\
表示主机没有应答,这样,就会让从机释放总线,将SDA控制权交还给主机\
如果主机想要读取多个字节,需要在最后一个字节给非应答(1)\
其他字节之间给应答(0)