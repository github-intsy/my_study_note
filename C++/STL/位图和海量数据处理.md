### 小端机&大端机
- 地址都是从左到右, 由低到高存储
- 默认右边为高位,左边是低位
  - 小端机是低地址储存在高位(右边)
  - 大端机是低地址储存在低位(左边)
### C位运算符>> <<
- `>>`向低位位移
- `<<`向高位位移
---
### 位图
    面试题, 面对20亿个无序不重复的无符号整型,如何快速的找出指定的数据是否存在?

    如果使用Hash或者map、set,就会占用约4G的内存,这时候引出位图的概念
- 将数据储存在bite中, 对应bite的位置存在数据就置为1
- 最后可以压缩成512mb
- 位图就是利用bite储存数据的哈希表
  - 优点: 节省空间、效率高
  - 缺点：只能处理整形
### 海量数据处理
#### 找出只出现一次的数字
- 给定100亿个整数，设计算法找到只出现一次的整数?
- 分析:
  - 100亿个整数大概占用40G
  - 1G =2~30 byte
  - 数据出现的次数分为三种:出现0次、出现1次、出现2次及以上
  - 位图的改进来解决问题，两个位表示一个整数: 00 01 10
#### 查找两个海量数据的交集
1. 给两个文件，分别有100亿个整数，我们只有1G内存，如何找到两个文件交集?
   1. 将其中一个文件1的整数映射到一个位图中，读取另外一个文件2中的整数，判断在在不在位图，在就是交集。 消耗500M内存
   2. 将文件1的整数映射到位图1中，将文件2的整数映射到位图2中，然后将两个位图中的数按位与。 与之后为1的位就是交集。消耗内存1G。
2. 位图应用变形:1个文件有100亿个int，1G内存，设计算法找到出现次数不超过2次的所有整数
   1. 本题跟上面的第1题思路是一样的本题找的不超过2次的，也就是要找出现1次和2次的
   2. 本题还是用两个位表示一个数，分为出现0次 00表示，出现1次的 01表示出现2次的 10表示 出现3次及3次以上的用11表示
#### 计算字符串
1. 给两个文件，分别有100亿个query，我们只有1G内存，如何找到两个文件交集?分别给出精确算法和近似算
---
2.  (query一般是sql查询语句或者网络请求的url等，一般是一个字符串)100亿个query占用多少空间呢?假设平均一个query 30-60byte，100亿个query大约占300-600G
##### 方案
1. 将文件1中的query映射到一个布隆过滤器，读取文件2中的query，判断在不在布隆过滤器中，在就是交集

方案一缺陷: 交集中有些数不准确，还是有些交集的数据漏掉了?

布隆过滤器判断在是准确的? 还是不在是准确的?

布隆过滤器判断不在是准确的, 如果不在,就一定不在,存在是有可能存在

2. 不再平均切分，哈希切分: i = hashstr(query) % 1000，i是多少query就进入第Ai/Bi的小文件中，文件A/文件B都别这样处理
   1. A和B中相同的query一定进入编号相同的Ai和Bi小文件，所以下面只需要编号相同找交集就可以。
   2. 将Ai放小文件的数据放到一个set中，读取对应的Bi小文件中auery，看在不在Ai中，在就是交集