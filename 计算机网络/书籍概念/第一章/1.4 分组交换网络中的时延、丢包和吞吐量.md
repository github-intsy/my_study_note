- [分组交换网中的时延](#分组交换网中的时延)
  - [时延的类型](#时延的类型)
- [排队时延和丢包](#排队时延和丢包)
      - [流量强度：La/R](#流量强度lar)
      - [丢包](#丢包)
- [端到端时延](#端到端时延)
- [计算机网络中的吞吐量](#计算机网络中的吞吐量)
    - [瓶颈链路](#瓶颈链路)
    - [干扰流量](#干扰流量)

## 分组交换网中的时延
### 时延的类型
    路由器的链路前面存在一个队列(缓存)。
    当分组到达路由器时，路由器检查该分组的首部将分组传输向首部包含的指定地址中。
    仅当在该链路没有其他分组正在传输，并且没有其他分组排在该队列前面时，才能在该链路传输该分组。

|类型|内容|所需时间|
|---|---|---|
|处理时延|检查分组首部以决定**将该分组导向何处**所需要的时间|微秒或更低的数量级|
|排队时延|在队列中,分组在链路上等待传输时, 将经受**排队时延**|毫秒到微秒量级|
|传输时延|将分组的所有比特推向链路所需要的时间|$L$分组长度,$R$在链路上的传播速率<br>传输时延是$L/R$, 实际在毫秒到微秒|
|传播时延|从链路起点到路由器经过链路传播的时间|$d$路由器间距离,$s$传播速率, 传播时延是$d/s$, 实际为毫秒量级|
|传输时延和传播时延的比较|<li>传输时延是路由器推出分组所需的时间<li>传播时延是一个比特从一台路由器传播到另一台路由器所需要的时间|传输时延为$L/R$<br>传播时延为$d/s$|

- $d_{nodal}$总时延
- $d_{proc}$处理时延
- $d_{queue}$排队时延
- $d_{trans}$传输时延
- $d_{prop}$传播时延
$$
d_{nodal}=d_{proc}+d_{queue}+d_{trans}+d_{prop}
$$
## 排队时延和丢包
    取决排队时延的时间长度是 流量强度

|变量|单位|含义|
|---|---|---|
|$L$|bit|所有分组的bit数|
|$a$|分组每秒`pkt/s`|到达分组到达队列的平均速率|
|$R$|bps|从队列中推出比特的速率|
##### 流量强度：La/R
|流量强度La/R|现象|结果|
|---|---|---|
|$>1$|比特**到达**队列的平均速率**超过**队列**传输**出去的速率|队列趋向于无线增加,排队时延趋向无穷大|
|$<=1$|到达流量的性质影响排队时延|<li>接近0，**几乎**没有分组到达并且到达并且间隔很大，到达的分组不可能在队列中发现别的分组<li>接近1时，当到达速率**小于**传输能力时，队列的长度将**缩短**。随着流量强度接近1，平均队列长度关系变得越来越长|
##### 丢包
    实际中的队列容量是有限的

随着到达的流量强度**接近1**，队列将存满
- 当到达队列时**队列满**，路由器将丢弃该分组
- 分组的丢失比例随着**流量强度**增加而增加
## 端到端时延
    假设源主机和目标主机之间有N-1台路由器，网络无拥塞
- $d_{end-end}$端到端时延
- $d_{proc}$处理时延
- $d_{trans}$传输时延`L/R`
- $d_{prop}$传播时延
$$
d_{end-end}=N(d_{proc}+d_{trans}+d_{prop})
$$
## 计算机网络中的吞吐量
|吞吐量|概念|
|---|---|
|瞬时吞吐量|主机接收该文件的速率|
|平均吞吐量`F/T bps`|$F$bit大小文件, 主机接收$F$bit用去$T$s|

#### 瓶颈链路
- $R_s$服务器与路由器之间的链路速率
- $R_c$路由器与客户之间的链路速率

吞吐量是$min(R_c,R_s)$\
传输速率所需时间是$F/min(R_c,R_s)$\
所以传输速率是$min(R_1,R_2,...,R_n)$,取决于最短的速率

#### 干扰流量
    如果链路中存在公共链路，且该链路具有与接入链路相同量级的速率
    此时就会出现其他用户公用一条链路而产生的干扰